(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{288:function(t,e,o){var content=o(303);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(109).default)("74ccc2a6",content,!0,{sourceMap:!1})},289:function(t,e,o){var content=o(305);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(109).default)("2b31cfb4",content,!0,{sourceMap:!1})},290:function(t,e,o){var content=o(307);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(109).default)("44aec4a0",content,!0,{sourceMap:!1})},302:function(t,e,o){"use strict";var n=o(288);o.n(n).a},303:function(t,e,o){(e=o(108)(!1)).push([t.i,'.portfolioVue{flex-basis:1;flex-grow:1;width:100%;height:calc(100% - 46px);flex-direction:column;display:flex}.portfolioContainer{display:flex;align-items:stretch;max-width:var(--maxwidth);height:100%;position:absolute;top:0;width:100%;margin:0 auto;background:var(--background1)}#portfolioContent{flex-grow:1;min-width:0}.fullscreenlist #portfolioContent{display:none}.portfolioList{flex-basis:368px;flex-shrink:0;height:calc(100% - var(--headerheight));position:relative;display:flex;flex-direction:column;transition:all .2s;align-content:flex-start;padding:32px 24px 24px;overflow-y:overlay;overflow-x:hidden;box-sizing:border-box;top:var(--headerheight)}.portfolioList>*{flex-shrink:0}.fullscreenlist .category-header{margin-top:24px;flex-basis:100%;width:100%}.portfolioList .category-header:first-child{margin-top:0}.animatelink{color:var(--foregroundlink);position:relative;text-decoration:none;font-size:22px;font-weight:200;font-family:var(--font-secondary);transition:color .3s}.animatelink.goback{font-family:var(--font-primary);font-weight:400;font-size:12px;padding-bottom:2px;position:absolute;top:12px}.animatelink.goback svg{height:16px;width:16px;fill:currentColor;margin-bottom:-4px;margin-right:2px}.animatelink:after{position:absolute;width:0;left:0;bottom:2px;content:"";height:2px;transition:width .3s;background:var(--backgroundclick)}.animatelink:hover{color:#fff}.animatelink:hover:after{width:100%}.fullscreenlist .portfolioList .pContainer,.fullscreenlist .portfolioList h2{flex-basis:100%}.portfolioList .pContainer p{max-width:512px;color:var(--foreground);font-size:13px;margin-top:0;margin-bottom:0}.portfolioList:not(.fullscreenlist):after{width:100%;content:"";height:1px;background-color:hsla(0,0%,100%,.5)}.fullscreenlist .portfolioList{width:100%;flex-direction:row;flex-wrap:wrap;flex-basis:auto;background-color:transparent}.fullscreenlist .portfolioList:after{display:none}.tagscontainer{position:relative;flex-basis:100%;width:-moz-fit-content;transform:width .2s ease;margin-left:-6px;line-height:16px;margin-top:4px}.tags{-ms-user-select:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;max-width:var(--maxwidth);margin:0 auto}.portfolio-list{position:relative}.portfolio-list-item{transition:all .3s cubic-bezier(.23,1,.32,1)}.portfolio-list-item.filteredout{display:none}.portfolio-list-enter-active{opacity:0;transform:translateX(-32px)}.portfolio-list-enter-to{opacity:1;transform:translateX(0)}.portfolio-list-leave-to{opacity:0;transform:translateX(-32px)}.portfolio-list-leave-active{position:absolute!important}.tag-list{position:relative;overflow:hidden}.tag-list-item{transition:all .5s cubic-bezier(.23,1,.32,1);display:inline-block}.tag-list-enter-active{opacity:0;transform:translateY(-6px)}.tag-list-enter-to{opacity:1;transform:translateY(0)}.tag-list-leave-to{opacity:0;transform:translateY(-6px)}.tag-list-leave-active{position:absolute!important}.slide-down-enter-active,.slide-down-leave-active,.slide-right-enter-active,.slide-right-leave-active{transition:all .5s cubic-bezier(.23,1,.32,1)}.slide-down-enter,.slide-down-leave-active,.slide-down-leave-to{transform:translateY(-32px);opacity:0}.slide-right-enter,.slide-right-leave-active,.slide-right-leave-to{transform:translateX(-320px);opacity:0}@media screen and (max-width:498px){.portfolioContainer.fullscreenlist .document{width:100%!important}.portfolioList{padding:12px}}@media screen and (max-width:800px){.portfolioContainer:not(.fullscreenlist){flex-direction:column;top:72px}#portfolioContent{margin-top:32px}.portfolioContainer:not(.fullscreenlist) .portfolioList{width:100%;flex-direction:row;flex-basis:128px;overflow-x:overlay;top:32px;padding:0 12px;flex-wrap:nowrap}.portfolioContainer:not(.fullscreenlist) .portfolioList h2,.portfolioContainer:not(.fullscreenlist) .portfolioList p{display:none}.portfolioList .document{flex-shrink:0;width:320px}.portfolioList .document.selected{transform:translateY(12px)}}',""]),t.exports=e},304:function(t,e,o){"use strict";var n=o(289);o.n(n).a},305:function(t,e,o){(e=o(108)(!1)).push([t.i,".tag{display:inline-block;color:var(--foregroundsubtle);-ms-user-select:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;cursor:pointer;padding:0 8px;font-size:.7em;transition:background-color .2s,color .1s;white-space:normal;position:relative}.tag-icon{width:14px;margin-right:2px}.tag-icon svg{max-width:14px;max-height:14px}.tag:hover{color:var(--foreground)}.tag.selected{color:var(--foregroundlink)}.tags-selectedall .tag{color:#8b0000}",""]),t.exports=e},306:function(t,e,o){"use strict";var n=o(290);o.n(n).a},307:function(t,e,o){(e=o(108)(!1)).push([t.i,'.document{color:#fff;width:320px;background-color:#000;height:152px;text-decoration:none;box-sizing:border-box;position:relative;z-index:1;margin-right:12px;margin-top:12px;transition:all .2s}@media screen and (max-width:800px){.document{width:213px!important;height:101px!important}}.document .document-container:after{position:absolute;width:100%;height:100%;content:" ";box-sizing:border-box;border:1px solid hsla(0,0%,100%,.25);pointer-events:none;transition:border .3s}.document:hover .document-container:after{border:1px solid hsla(0,0%,100%,.4)}.document.selected .document-container:after,.document:active .document-container:after{border:1px solid hsla(0,0%,100%,.6)}.document.selected{transform:translateX(25px);pointer-events:none}.document-container{position:absolute;top:0;bottom:0;right:0;left:0;overflow:hidden}.document-bg{position:absolute;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;z-index:-1}.document.selected .document-bg{transform:translateX(1px)}.document-gradient{position:absolute;width:100%;height:100%;opacity:0}.document-bottom{position:absolute;margin-left:12px;bottom:8px;width:100%;transform:translateZ(40px)}.document:visited{color:hsla(0,0%,100%,.5)}.document-title{font-size:24px;font-weight:200;opacity:0;transform:translateY(32px);font-family:var(--font-secondary)}.document-tags,.document-year{opacity:0;font-size:.8em}.document-tags{margin-top:-4px}.document-tags svg{width:16px;height:16px;fill:var(--foregroundcolor);margin-right:6px;margin-top:6px}.document-year{margin-bottom:-4px;font-weight:600}.selectIndicator{position:absolute;fill:transparent;stroke:hsla(0,0%,100%,.25);stroke-width:2px;top:0;left:318px;width:32px;height:100%;display:none}.fullscreenlist .selectIndicator{display:none}.document .selectIndicator path{transition:.2s;d:path("M 1 0 L 1 44 L 1 76 L 1 108 L 1 152")}.document:hover .selectIndicator path{d:path("M 1 0 L 1 44 L 6 76 L 1 108 L 1 152")}.selectIndicator.selected path{d:path("M 1 0 L 1 44 L 12 76 L 1 108 L 1 152")!important}@media screen and (max-width:800px){.selectIndicator{position:absolute;fill:transparent;stroke:hsla(0,0%,100%,.25);stroke-width:2px;bottom:-2px;left:0;top:128px;width:320px;height:32px}.document .selectIndicator path{transition:.2s;d:path("M 0 1 L 80 1 L 160 1 L 240 1 L 320 1")}.document:hover .selectIndicator path{d:path("M 0 1 L 80 1 L 160 6 L 240 1 L 320 1")}.selectIndicator.selected path{d:path("M 0 1 L 80 1 L 160 32 L 240 1 L 320 1")!important}}',""]),t.exports=e},327:function(t,e,o){"use strict";o.r(e);o(31);var n={props:["id","name","icon","selected","category"],methods:{toggleselect:function(t){this.$emit("selectionchange",this.category,this.name,t),console.log(t)}}},r=(o(304),o(55)),component=Object(r.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:{selected:t.selected,tag:!0},on:{click:[function(e){return e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.toggleselect(!1)},function(e){return e.metaKey?t.toggleselect(!0):null},function(e){return e.ctrlKey?t.toggleselect(!0):null}]}},[t.icon?o("span",{staticClass:"tag-icon",domProps:{innerHTML:t._s(t.icon)}}):t._e(),t._v("\n    "+t._s(t.name)+"\n")])}),[],!1,null,null,null);e.default=component.exports},328:function(t,e,o){"use strict";o.r(e);var n=o(280),r={props:["doc","link"],methods:{hoverAnimation:function(t){var e=n.a.timeline({defaults:{ease:"power4"+t,duration:.3}});return e.fromTo(this.$refs.docyear,{y:12,opacity:0},{opacity:1,y:0},0),e.fromTo(this.$refs.doctitle,{y:24,opacity:0},{opacity:1,y:0},0),e.fromTo(this.$refs.doctags,{y:32,opacity:0},{opacity:1,y:0},0),e.fromTo(this.$refs.docoverlay,{opacity:0},{opacity:1},0),e},hoverShow:function(){this.hoverAnimation(".out").play()},hoverHide:function(){this.hoverAnimation(".in").reverse(0)}},mounted:function(){this.images}},l=(o(306),o(55)),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("nuxt-link",{class:{selected:t.doc.selected,document:!0,"fx-hovershadow":!0},attrs:{to:t.link}},[o("div",{directives:[{name:"tilt",rawName:"v-tilt"}],staticClass:"document-container"},[t.doc.images&&t.doc.images[0]?o("img",{staticClass:"document-bg",attrs:{alt:"",src:t.$staticAsset(t.$config.strapiBaseUri+t.doc.images[0].formats.medium.url)}}):t._e(),t._v(" "),o("div",{staticClass:"document-overlay",on:{touchstart:t.hoverShow,touchend:t.hoverHide,mouseenter:t.hoverShow,mouseleave:t.hoverHide}},[o("div",{ref:"docoverlay",staticClass:"document-gradient",style:"background: linear-gradient(transparent,"+t.doc.backgroundcolor+");"}),t._v(" "),o("div",{staticClass:"document-bottom"},[o("div",{ref:"docyear",staticClass:"document-year",style:"color:"+t.doc.foregroundcolor2},[t._v(t._s(t._f("formatDate")(t.doc.date)))]),t._v(" "),o("div",{ref:"doctitle",staticClass:"document-title",style:"color:"+t.doc.foregroundcolor},[t._v(t._s(t.doc.title))]),t._v(" "),o("div",{ref:"doctags",staticClass:"document-tags",style:"fill:"+t.doc.foregroundcolor2,attrs:{title:t.doc.tags.map((function(t){return t.name})).join(", ")}},t._l(t.doc.tags,(function(e){return o("span",{key:e.id,domProps:{innerHTML:t._s(e.icon)}})})),0)])]),t._v(" "),o("svg",{class:{selected:t.doc.selected,selectIndicator:!0}},[o("path",{attrs:{d:"M 0 0 L 0 38 L 0 76 L 0 114 L 0 152"}})])])])}),[],!1,null,null,null);e.default=component.exports},335:function(t,e,o){"use strict";o.r(e);o(40),o(48),o(56),o(66),o(57),o(81),o(58),o(59),o(31),o(41),o(14),o(39),o(24),o(42),o(80),o(49),o(30);var n=o(3);function r(t,e){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return l(t,e)}(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,d=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return c=t.done,t},e:function(t){d=!0,r=t},f:function(){try{c||null==o.return||o.return()}finally{if(d)throw r}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}var c,d={data:function(){return{documents:[],selectedCategory:"",selectedDocument:"",query:{},tagContainerHeight:0}},watch:{"$route.path":function(path){this.selectedDocument=this.$route.params.document,this.selectedCategory=this.$route.params.slug;for(var i=0;i<this.documents.length;i++)this.documents[i].slug==this.selectedDocument?this.documents[i].selected=!0:this.documents[i].selected=!1},"$route.params.document":function(){},"$route.query":function(){this.filterDocuments()}},methods:{tagsAppear:function(){this.tagContainerHeight=this.$refs.tagContainer?this.$refs.tagContainer.clientHeight:0},tagsHideBefore:function(){},tagsHideAfter:function(){},beforeDocumentLeave:function(t,e){t.style.top=t.offsetTop+"px",t.style.left=t.offsetLeft+"px"},filterDocuments:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o,n,l,c,d,f,m,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=r(t.documents),e.prev=1,o.s();case 3:if((n=o.n()).done){e.next=27;break}if(l=n.value,console.log(t.$store.state.selectedTags[l.category.slug]),!t.$store.state.selectedTags[l.category.slug].All){e.next=11;break}return l.hidden=!1,e.abrupt("continue",25);case 11:c=t.$store.state.selectedTags[l.category.slug],d=0,f=Object.keys(c);case 13:if(!(d<f.length)){e.next=25;break}if(m=f[d],h=c[m],!l.tagTable[m]||!h){e.next=21;break}return l.hidden=!1,e.abrupt("break",25);case 21:l.hidden=!0;case 22:d++,e.next=13;break;case 25:e.next=3;break;case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(1),o.e(e.t0);case 32:return e.prev=32,o.f(),e.finish(32);case 35:case"end":return e.stop()}}),e,null,[[1,29,32,35]])})))()},tagselectionChange:(c=Object(n.a)(regeneratorRuntime.mark((function t(e,o,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.$store.commit("selectTag",{category:e,tag:o,deselect:!n}),this.updateQuery();case 2:case"end":return t.stop()}}),t,this)}))),function(t,e,o){return c.apply(this,arguments)}),toggleSelectedAll:function(t){this.$store.commit("selectAllTags",{category:t}),this.updateQuery()},updateQuery:function(){this.query=this.$store.getters.queryString,this.$router.replace({path:this.$route.path,query:this.query})},resizeTagContainer:function(t){t.width;var e=t.height;this.tagContainerHeight=e}},mounted:function(){this.tagContainerHeight=this.$refs.tagContainer?this.$refs.tagContainer.clientHeight:0,this.filterDocuments()},head:function(){var title="",t="";return this.selectedCategory&&(title=this.$store.state.categories[this.selectedCategory].name,t=this.$store.state.categories[this.selectedCategory].description),title||(title="All work",t="All my work in ".concat(this.$store.state.categoriesArray.map((function(t){return t.name})).join(", "))),{title:"".concat(title," - Piers Deseilligny"),meta:[{hid:"og-title",property:"og:title",content:title},{hid:"og-url",property:"og:url",content:"https://piersdeseilligny.com/work/"+(this.selectedCategory?this.selectedCategory:"")},{hid:"og-description",property:"og:description",content:t},{hid:"description",property:"description",content:t}]}},asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var o,n,l,c,d,f,data,m,h,i,y,v,x,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=t.params.slug,n=t.params.document,l="",c='(sort:"order")',d="",o&&(c='(sort:"order", where:{categories:{slug:"'.concat(o,'"}})'),d='(where:{categories:{slug:"'.concat(o,'"}})')),f="\n          query{\n            tags".concat(d,"{\n              name,\n              id,\n              icon\n            },\n            documents").concat(c,"{\n              title,\n              categories{\n                slug\n              },\n              category{\n                slug,\n                order\n              },\n              date,\n              id,\n              slug,\n              backgroundcolor,\n              foregroundcolor,\n              foregroundcolor2,\n              tags{\n                name,\n                id,\n                icon\n              },\n              images{\n                formats\n              }\n            }\n          }\n          "),console.log(f),e.next=11,t.$staticAPI({query:f});case 11:for(data=e.sent,m=[],!0,h="",data.documents.sort((function(a,b){return a.category.order>b.category.order?1:-1})),i=0;i<data.documents.length;i++){(y=data.documents[i]).slug==n?y.selected=!0:y.selected=!1,y.first=y.category.slug!=h,h=y.category.slug,data.documents[i].tagTable={},v=r(data.documents[i].tags);try{for(v.s();!(x=v.n()).done;)w=x.value,data.documents[i].tagTable[w.name]=!0}catch(t){v.e(t)}finally{v.f()}console.log(data.documents[i].tagTable),m.push(y)}return t.store.commit("queryToSelection",t.route.query),e.abrupt("return",{tags:data.tags,documents:m,selectedCategory:o,selectedDocument:n,queryString:l});case 21:return e.prev=21,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 24:case"end":return e.stop()}}),e,null,[[0,21]])})))()}},f=(o(302),o(55)),component=Object(f.a)(d,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"portfolioVue"},[o("transition",{attrs:{name:"slide-down",appear:""},on:{enter:t.tagsAppear,"before-leave":t.tagsHideBefore,"after-leave":t.tagsHideAfter}}),t._v(" "),o("div",{class:{portfolioContainer:!0,fullscreenlist:null==t.$route.params.document}},[o("transition-group",{staticClass:"portfolioList",attrs:{name:"portfolio-list",tag:"div"},on:{"before-leave":t.beforeDocumentLeave}},[t._l(t.documents,(function(e){return[e.first?o("div",{key:e.category.slug,staticClass:"category-header",attrs:{id:e.category.slug}},[t.selectedCategory?o("nuxt-link",{key:e.category.slug+"_b",staticClass:"animatelink goback",attrs:{to:{path:"/work",query:t.query}}},[o("svg",[o("polygon",{attrs:{points:"13.1,5.8 2.2,5.8 7.3,1.2 6.7,0.5 0.2,6.3 6.7,12 7.3,11.3 2.2,6.8 13.1,6.8 "}})]),t._v("View all")]):t._e(),t._v(" "),o("h2",{key:e.category.slug},[o("nuxt-link",{staticClass:"animatelink",attrs:{to:{path:"/work/"+e.category.slug,query:t.query}}},[o("span",[t._v(t._s(t.$store.state.categories[e.category.slug].name))])])],1),t._v(" "),o("div",{key:e.category.slug+"_d",staticClass:"pContainer"},[o("p",[t._v(t._s(t.$store.state.categories[e.category.slug].description))])]),t._v(" "),o("div",{staticClass:"tagscontainer"},[o("transition-group",{class:"tags",staticStyle:{"z-index":"1"},attrs:{name:"tag-list",tag:"div"},on:{"before-leave":t.beforeDocumentLeave}},[o("div",{key:"all",staticClass:"tag-list-item"},[o("Tag",{key:"all",attrs:{name:"All",selected:t.$store.state.selectedTags[e.category.slug].All,id:"all",category:e.category.slug},on:{selectionchange:t.toggleSelectedAll}})],1),t._v(" "),t._l(t.$store.getters.tagsForCategory(e.category.slug),(function(n){return o("div",{key:n.id,staticClass:"tag-list-item"},[o("Tag",{key:n.id,attrs:{name:n.name,icon:n.icon,category:e.category.slug,selected:t.$store.state.selectedTags[e.category.slug][n.name],id:n.id},on:{selectionchange:t.tagselectionChange}})],1)}))],2)],1)],1):t._e(),t._v(" "),o("Document",{key:e.id,class:{"portfolio-list-item":!0,filteredout:e.hidden},attrs:{link:{path:"/work/"+e.category.slug+"/"+e.slug,query:t.query},doc:e}})]}))],2),t._v(" "),o("div",{attrs:{id:"portfolioContent"}},[o("nuxt",{attrs:{nuxtChildKey:t.$route.params.document}})],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Tag:o(327).default,Document:o(328).default})}}]);