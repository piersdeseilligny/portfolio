(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{288:function(t,e,o){var content=o(303);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(109).default)("74ccc2a6",content,!0,{sourceMap:!1})},289:function(t,e,o){var content=o(305);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(109).default)("2b31cfb4",content,!0,{sourceMap:!1})},290:function(t,e,o){var content=o(307);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(109).default)("44aec4a0",content,!0,{sourceMap:!1})},302:function(t,e,o){"use strict";var n=o(288);o.n(n).a},303:function(t,e,o){(e=o(108)(!1)).push([t.i,'.portfolioVue{flex-basis:1;flex-grow:1;width:100%;height:calc(100% - 46px);flex-direction:column;display:flex}.portfolioContainer{display:flex;align-items:stretch;max-width:var(--maxwidth);height:100%;position:absolute;top:0;width:100%;margin:0 auto;background:var(--background1);overflow-x:hidden}#portfolioContent{flex-grow:1;min-width:0;z-index:3;box-shadow:0 0 32px #000;transform:translateX(100%);transition:all .3s cubic-bezier(.215,.61,.355,1)}#portfolioContent.visible{transform:translateX(0)}.portfolioList{flex-basis:368px;flex-shrink:0;height:calc(100% - var(--headerheight));position:relative;display:flex;flex-direction:column;transition:all .2s;align-content:flex-start;padding:32px 24px 24px;overflow-y:overlay;overflow-x:hidden;box-sizing:border-box;top:var(--headerheight)}.portfolioList>*{flex-shrink:0}.fullscreenlist .category-header{margin-top:24px;flex-basis:100%;width:100%}.portfolioList .category-header:first-child{margin-top:0}.animatelink{color:var(--foregroundlink);position:relative;text-decoration:none;font-size:22px;font-weight:200;font-family:var(--font-secondary);transition:color .3s}.animatelink.goback{font-family:var(--font-primary);font-weight:400;font-size:12px;padding-bottom:2px;position:absolute;top:12px}.animatelink.goback svg{height:16px;width:16px;fill:currentColor;margin-bottom:-4px;margin-right:2px}.animatelink:after{position:absolute;width:0;left:0;bottom:2px;content:"";height:2px;transition:width .3s;background:var(--backgroundclick)}.animatelink:hover{color:#fff}.animatelink:hover:after{width:100%}.fullscreenlist .portfolioList .pContainer,.fullscreenlist .portfolioList h2{flex-basis:100%}.portfolioList .pContainer p{max-width:512px;color:var(--foreground);font-size:13px;margin-top:0;margin-bottom:0}.fullscreenlist .portfolioList{width:100%;flex-direction:row;flex-wrap:wrap;flex-basis:auto;background-color:transparent}.fullscreenlist .portfolioList:after{display:none}.tagscontainer{position:relative;flex-basis:100%;width:-moz-fit-content;transform:width .2s ease;margin-left:-6px;line-height:16px;margin-top:4px}.tags{-ms-user-select:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;max-width:var(--maxwidth);margin:0 auto}.portfolio-list{position:relative}.portfolio-list-item{transition:all .3s cubic-bezier(.23,1,.32,1)}.portfolio-list-item.filteredout{display:none}.portfolio-list-enter-active{opacity:0;transform:translateX(-32px)}.portfolio-list-enter-to{opacity:1;transform:translateX(0)}.portfolio-list-leave-to{opacity:0;transform:translateX(-32px)}.portfolio-list-leave-active{position:absolute!important}.tag-list{position:relative;overflow:hidden}.tag-list-item{transition:all .5s cubic-bezier(.23,1,.32,1);display:inline-block}.tag-list-enter-active{opacity:0;transform:translateY(-6px)}.tag-list-enter-to{opacity:1;transform:translateY(0)}.tag-list-leave-to{opacity:0;transform:translateY(-6px)}.tag-list-leave-active{position:absolute!important}.slide-down-enter-active,.slide-down-leave-active,.slide-right-enter-active,.slide-right-leave-active{transition:all .5s cubic-bezier(.23,1,.32,1)}.slide-down-enter,.slide-down-leave-active,.slide-down-leave-to{transform:translateY(-32px);opacity:0}.slide-right-enter,.slide-right-leave-active,.slide-right-leave-to{transform:translateX(-320px);opacity:0}@media screen and (max-width:498px){.portfolioContainer.fullscreenlist .document{width:100%!important}.portfolioList{padding-left:12px;padding-right:12px}}@media screen and (max-width:800px){.portfolioContainer:not(.fullscreenlist){flex-direction:column;top:0;padding-top:var(--headerheight)}#portfolioContent{margin-top:0}.portfolioContainer:not(.fullscreenlist) .portfolioList{width:100%;flex-direction:row;flex-basis:128px;overflow-x:overlay;top:0;padding:0 12px;flex-wrap:nowrap}.portfolioContainer:not(.fullscreenlist) .category-header{display:none}.portfolioList .document{flex-shrink:0;width:320px}.portfolioContainer:not(.fullscreenlist) .portfolioList{overflow-y:hidden}.doccont-container{border-left:none;border-top:1px solid hsla(0,0%,100%,.4)}.doccont-scroller{overflow-y:unset!important}.portfolioList .document.selected{transform:translateY(16px);z-index:2}::-webkit-scrollbar{display:none}}',""]),t.exports=e},304:function(t,e,o){"use strict";var n=o(289);o.n(n).a},305:function(t,e,o){(e=o(108)(!1)).push([t.i,".tag{display:inline-block;color:var(--foregroundsubtle);-ms-user-select:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;cursor:pointer;padding:0 8px;font-size:.7em;transition:background-color .2s,color .1s;white-space:normal;position:relative}.tag-icon{width:14px;margin-right:2px}.tag-icon svg{max-width:14px;max-height:14px}.tag:hover{color:var(--foreground)}.tag.selected{color:var(--foregroundlink)}.tags-selectedall .tag{color:#8b0000}",""]),t.exports=e},306:function(t,e,o){"use strict";var n=o(290);o.n(n).a},307:function(t,e,o){(e=o(108)(!1)).push([t.i,'.document{color:#fff;width:320px;background-color:#000;height:152px;text-decoration:none;box-sizing:border-box;position:relative;z-index:1;margin-right:12px;margin-top:12px;transition:all .2s;scroll-margin:24px}@media screen and (max-width:800px){.document{width:213px!important;height:101px!important}}.document .document-container:after{position:absolute;width:100%;height:100%;content:" ";box-sizing:border-box;border:1px solid hsla(0,0%,100%,.25);pointer-events:none;transition:border .3s}.document:hover .document-container:after{border:1px solid hsla(0,0%,100%,.4)}.document.selected .document-container:after,.document:active .document-container:after{border:1px solid hsla(0,0%,100%,.6)}.document.selected{transform:translateX(25px) scale(1.02);pointer-events:none;box-shadow:0 0 32px #000;z-index:4}.document-container{position:absolute;top:0;bottom:0;right:0;left:0;overflow:hidden}.document-bg{position:absolute;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;z-index:-1}.document.selected .document-bg{transform:translateX(1px)}.document-gradient{position:absolute;width:100%;height:100%;opacity:0}.document-bottom{position:absolute;margin-left:12px;bottom:8px;width:100%;transform:translateZ(40px)}.document:visited{color:hsla(0,0%,100%,.5)}.document-title{font-size:24px;font-weight:200;opacity:0;transform:translateY(32px);font-family:var(--font-secondary)}.document-tags,.document-year{opacity:0;font-size:.8em}.document-tags{margin-top:-4px}.document-tags svg{width:16px;height:16px;fill:var(--foregroundcolor);margin-right:6px;margin-top:6px}.document-year{margin-bottom:-4px;font-weight:600}.selectIndicator{position:absolute;fill:transparent;stroke:hsla(0,0%,100%,.25);stroke-width:2px;top:0;left:318px;width:32px;height:100%;display:none}.fullscreenlist .selectIndicator{display:none}.document .selectIndicator path{transition:.2s;d:path("M 1 0 L 1 44 L 1 76 L 1 108 L 1 152")}.document:hover .selectIndicator path{d:path("M 1 0 L 1 44 L 6 76 L 1 108 L 1 152")}.selectIndicator.selected path{d:path("M 1 0 L 1 44 L 12 76 L 1 108 L 1 152")!important}@media screen and (max-width:800px){.selectIndicator{position:absolute;fill:transparent;stroke:hsla(0,0%,100%,.25);stroke-width:2px;bottom:-2px;left:0;top:128px;width:320px;height:32px}.document .selectIndicator path{transition:.2s;d:path("M 0 1 L 80 1 L 160 1 L 240 1 L 320 1")}.document:hover .selectIndicator path{d:path("M 0 1 L 80 1 L 160 6 L 240 1 L 320 1")}.selectIndicator.selected path{d:path("M 0 1 L 80 1 L 160 32 L 240 1 L 320 1")!important}}',""]),t.exports=e},327:function(t,e,o){"use strict";o.r(e);o(26);var n={props:["id","name","icon","selected","category"],methods:{toggleselect:function(t){this.$emit("selectionchange",this.category,this.name,t),console.log(t)}}},r=(o(304),o(58)),component=Object(r.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:{selected:t.selected,tag:!0},on:{click:[function(e){return e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.toggleselect(!1)},function(e){return e.metaKey?t.toggleselect(!0):null},function(e){return e.ctrlKey?t.toggleselect(!0):null}]}},[t.icon?o("span",{staticClass:"tag-icon",domProps:{innerHTML:t._s(t.icon)}}):t._e(),t._v("\n    "+t._s(t.name)+"\n")])}),[],!1,null,null,null);e.default=component.exports},328:function(t,e,o){"use strict";o.r(e);var n=o(280),r={props:["doc","link"],methods:{hoverAnimation:function(t){var e=n.a.timeline({defaults:{ease:"power4"+t,duration:.3}});return e.fromTo(this.$refs.docyear,{y:12,opacity:0},{opacity:1,y:0},0),e.fromTo(this.$refs.doctitle,{y:24,opacity:0},{opacity:1,y:0},0),e.fromTo(this.$refs.doctags,{y:32,opacity:0},{opacity:1,y:0},0),e.fromTo(this.$refs.docoverlay,{opacity:0},{opacity:1},0),e},hoverShow:function(){this.hoverAnimation(".out").play()},hoverHide:function(){this.hoverAnimation(".in").reverse(0)}},mounted:function(){this.images}},l=(o(306),o(58)),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("nuxt-link",{class:{selected:t.doc.selected,document:!0,"fx-hovershadow":!0},attrs:{to:t.link},nativeOn:{click:function(e){return t.$emit("clickOnDoc",t.doc,t.$el)}}},[o("div",{directives:[{name:"tilt",rawName:"v-tilt"}],staticClass:"document-container"},[t.doc.images&&t.doc.images[0]?o("img",{staticClass:"document-bg",attrs:{alt:"",src:t.$staticAsset(t.$config.strapiBaseUri+t.doc.images[0].formats.medium.url)}}):t._e(),t._v(" "),o("div",{staticClass:"document-overlay",on:{touchstart:t.hoverShow,touchend:t.hoverHide,mouseenter:t.hoverShow,mouseleave:t.hoverHide}},[o("div",{ref:"docoverlay",staticClass:"document-gradient",style:"background: linear-gradient(transparent,"+t.doc.backgroundcolor+");"}),t._v(" "),o("div",{staticClass:"document-bottom"},[o("div",{ref:"docyear",staticClass:"document-year",style:"color:"+t.doc.foregroundcolor2},[t._v(t._s(t._f("formatDate")(t.doc.date)))]),t._v(" "),o("div",{ref:"doctitle",staticClass:"document-title",style:"color:"+t.doc.foregroundcolor},[t._v(t._s(t.doc.title))]),t._v(" "),o("div",{ref:"doctags",staticClass:"document-tags",style:"fill:"+t.doc.foregroundcolor2,attrs:{title:t.doc.tags.map((function(t){return t.name})).join(", ")}},t._l(t.doc.tags,(function(e){return o("span",{key:e.id,domProps:{innerHTML:t._s(e.icon)}})})),0)])]),t._v(" "),o("svg",{class:{selected:t.doc.selected,selectIndicator:!0}},[o("path",{attrs:{d:"M 0 0 L 0 38 L 0 76 L 0 114 L 0 152"}})])])])}),[],!1,null,null,null);e.default=component.exports},335:function(t,e,o){"use strict";o.r(e);o(32),o(43),o(50),o(66),o(33),o(51),o(81),o(59),o(52),o(26),o(34),o(13),o(42),o(23),o(35),o(80),o(44),o(45),o(22);var n=o(2);function r(t,e){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return l(t,e)}(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,d=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return c=t.done,t},e:function(t){d=!0,r=t},f:function(){try{c||null==o.return||o.return()}finally{if(d)throw r}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}var c,d={data:function(){return{documents:[],selectedCategory:"",selectedDocument:"",tagContainerHeight:0,clickedElement:null}},watch:{"$route.path":function(path){this.selectedDocument=this.$route.params.document,this.selectedCategory=this.$route.params.slug;for(var i=0;i<this.documents.length;i++)this.documents[i].slug==this.selectedDocument?this.documents[i].selected=!0:this.documents[i].selected=!1},"$route.params.document":function(){this.clickedElement&&this.clickedElement.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},"$route.query":function(){this.filterDocuments()}},methods:{tagsAppear:function(){this.tagContainerHeight=this.$refs.tagContainer?this.$refs.tagContainer.clientHeight:0},tagsHideBefore:function(){},tagsHideAfter:function(){},beforeDocumentLeave:function(t,e){t.style.top=t.offsetTop+"px",t.style.left=t.offsetLeft+"px"},filterDocuments:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var o,n,l,c,d,f,h,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=r(e.documents),t.prev=1,o.s();case 3:if((n=o.n()).done){t.next=26;break}if(l=n.value,!e.$store.state.selectedTags[l.category.slug].All){t.next=10;break}return l.hidden=!1,t.abrupt("continue",24);case 10:c=e.$store.state.selectedTags[l.category.slug],d=0,f=Object.keys(c);case 12:if(!(d<f.length)){t.next=24;break}if(h=f[d],m=c[h],!l.tagTable[h]||!m){t.next=20;break}return l.hidden=!1,t.abrupt("break",24);case 20:l.hidden=!0;case 21:d++,t.next=12;break;case 24:t.next=3;break;case 26:t.next=31;break;case 28:t.prev=28,t.t0=t.catch(1),o.e(t.t0);case 31:return t.prev=31,o.f(),t.finish(31);case 34:case"end":return t.stop()}}),t,null,[[1,28,31,34]])})))()},tagselectionChange:(c=Object(n.a)(regeneratorRuntime.mark((function t(e,o,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.$store.commit("selectTag",{category:e,tag:o,deselect:!n}),this.updateQuery();case 2:case"end":return t.stop()}}),t,this)}))),function(t,e,o){return c.apply(this,arguments)}),toggleSelectedAll:function(t){this.$store.commit("selectAllTags",{category:t}),this.updateQuery()},updateQuery:function(){var t=this.$store.getters.queryString;this.$router.replace({path:this.$route.path,query:t})},resizeTagContainer:function(t){t.width;var e=t.height;this.tagContainerHeight=e},clickOnDoc:function(t,e){this.$refs.portfolioContent.style.backgroundColor=t.backgroundcolor,this.clickedElement=e}},mounted:function(){this.$refs.docs&&(Array.isArray(this.$refs.docs)?this.$refs.docs.forEach((function(t,i){t.doc&&t.doc.selected&&t.$el.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})})):this.$refs.docs.doc&&this.$refs.docs.doc.selected&&this.$refs.docs.$el.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"}))},head:function(){var title="",t="";return this.selectedCategory&&(title=this.$store.state.categories[this.selectedCategory].name,t=this.$store.state.categories[this.selectedCategory].description),title||(title="All work",t="All my work in ".concat(this.$store.state.categoriesArray.map((function(t){return t.name})).join(", "))),{title:"".concat(title," - Piers Deseilligny"),meta:[{hid:"og-title",property:"og:title",content:title},{hid:"og-url",property:"og:url",content:"https://piersdeseilligny.com/work/"+(this.selectedCategory?this.selectedCategory:"")},{hid:"og-description",property:"og:description",content:t},{hid:"description",property:"description",content:t}]}},asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var o,n,l,c,d,data,f,h,i,m,y,v,x,w,k,C,$,L;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=t.params.slug,n=t.params.document,"",l='(sort:"order")',c="",o&&(l='(sort:"order", where:{categories:{slug:"'.concat(o,'"}})'),c='(where:{categories:{slug:"'.concat(o,'"}})')),d="\n          query{\n            tags".concat(c,"{\n              name,\n              id,\n              icon\n            },\n            documents").concat(l,"{\n              title,\n              categories{\n                slug\n              },\n              category{\n                slug,\n                order\n              },\n              date,\n              id,\n              slug,\n              backgroundcolor,\n              foregroundcolor,\n              foregroundcolor2,\n              tags{\n                name,\n                id,\n                icon\n              },\n              images{\n                formats\n              }\n            }\n          }\n          "),e.next=10,t.$staticAPI({query:d});case 10:data=e.sent,f=[],!0,h="",data.documents.sort((function(a,b){return a.category.order>b.category.order?1:-1})),t.store.commit("queryToSelection",t.route.query),i=0;case 17:if(!(i<data.documents.length)){e.next=47;break}(m=data.documents[i]).slug==n?m.selected=!0:m.selected=!1,m.first=m.category.slug!=h,h=m.category.slug,m.tagTable={},y=r(m.tags);try{for(y.s();!(v=y.n()).done;)x=v.value,m.tagTable[x.name]=!0}catch(t){y.e(t)}finally{y.f()}if(!t.store.state.selectedTags[m.category.slug].All){e.next=29;break}m.hidden=!1,e.next=43;break;case 29:w=t.store.state.selectedTags[m.category.slug],k=0,C=Object.keys(w);case 31:if(!(k<C.length)){e.next=43;break}if($=C[k],L=w[$],!m.tagTable[$]||!L){e.next=39;break}return m.hidden=!1,e.abrupt("break",43);case 39:m.hidden=!0;case 40:k++,e.next=31;break;case 43:f.push(m);case 44:i++,e.next=17;break;case 47:return e.abrupt("return",{tags:data.tags,documents:f,selectedCategory:o,selectedDocument:n});case 50:return e.prev=50,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 53:case"end":return e.stop()}}),e,null,[[0,50]])})))()}},f=(o(302),o(58)),component=Object(f.a)(d,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"portfolioVue"},[o("transition",{attrs:{name:"slide-down",appear:""},on:{enter:t.tagsAppear,"before-leave":t.tagsHideBefore,"after-leave":t.tagsHideAfter}}),t._v(" "),o("div",{class:{portfolioContainer:!0,fullscreenlist:null==t.$route.params.document}},[o("transition-group",{staticClass:"portfolioList",attrs:{name:"portfolio-list",tag:"div"},on:{"before-leave":t.beforeDocumentLeave}},[t._l(t.documents,(function(e){return[e.first?o("div",{key:e.category.slug,staticClass:"category-header",attrs:{id:e.category.slug}},[t.selectedCategory?o("nuxt-link",{key:e.category.slug+"_b",staticClass:"animatelink goback",attrs:{to:{path:"/work",query:t.$route.query}}},[o("svg",[o("polygon",{attrs:{points:"13.1,5.8 2.2,5.8 7.3,1.2 6.7,0.5 0.2,6.3 6.7,12 7.3,11.3 2.2,6.8 13.1,6.8 "}})]),t._v("View all")]):t._e(),t._v(" "),o("h2",{key:e.category.slug},[o("nuxt-link",{staticClass:"animatelink",attrs:{to:{path:"/work/"+e.category.slug,query:t.$route.query}}},[o("span",[t._v(t._s(t.$store.state.categories[e.category.slug].name))])])],1),t._v(" "),o("div",{key:e.category.slug+"_d",staticClass:"pContainer"},[o("p",[t._v(t._s(t.$store.state.categories[e.category.slug].description))])]),t._v(" "),o("div",{staticClass:"tagscontainer"},[o("transition-group",{class:"tags",staticStyle:{"z-index":"1"},attrs:{name:"tag-list",tag:"div"},on:{"before-leave":t.beforeDocumentLeave}},[o("div",{key:"all",staticClass:"tag-list-item"},[o("Tag",{key:"all",attrs:{name:"All",selected:t.$store.state.selectedTags[e.category.slug].All,id:"all",category:e.category.slug},on:{selectionchange:t.toggleSelectedAll}})],1),t._v(" "),t._l(t.$store.getters.tagsForCategory(e.category.slug),(function(n){return o("div",{key:n.id,staticClass:"tag-list-item"},[o("Tag",{key:n.id,attrs:{name:n.name,icon:n.icon,category:e.category.slug,selected:t.$store.state.selectedTags[e.category.slug][n.name],id:n.id},on:{selectionchange:t.tagselectionChange}})],1)}))],2)],1)],1):t._e(),t._v(" "),o("Document",{key:e.id,ref:"docs",refInFor:!0,class:{"portfolio-list-item":!0,filteredout:e.hidden},attrs:{link:{path:"/work/"+e.category.slug+"/"+e.slug,query:t.$route.query},doc:e},on:{clickOnDoc:t.clickOnDoc}})]}))],2),t._v(" "),o("div",{ref:"portfolioContent",class:{visible:t.$route.params.document},attrs:{id:"portfolioContent"}},[o("nuxt",{attrs:{nuxtChildKey:t.$route.params.document}})],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Tag:o(327).default,Document:o(328).default})}}]);