(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{284:function(t,e,o){var content=o(299);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(107).default)("74ccc2a6",content,!0,{sourceMap:!1})},285:function(t,e,o){var content=o(301);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(107).default)("2b31cfb4",content,!0,{sourceMap:!1})},286:function(t,e,o){var content=o(303);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(107).default)("44aec4a0",content,!0,{sourceMap:!1})},298:function(t,e,o){"use strict";var n=o(284);o.n(n).a},299:function(t,e,o){(e=o(106)(!1)).push([t.i,".portfolioVue{flex-basis:1;flex-grow:1;width:100%;height:calc(100% - 46px);flex-direction:column;display:flex}.portfolioContainer{display:flex;align-items:stretch;max-width:var(--maxwidth);height:100%;position:absolute;top:0;width:100%;margin:0 auto;background:var(--background1)}#portfolioContent{flex-grow:1;min-width:0}.fullscreenlist #portfolioContent{display:none}.portfolioList{flex-basis:368px;flex-shrink:0;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;position:relative;display:flex;flex-direction:column;transition:all .2s;align-content:flex-start;padding:24px;overflow-y:overlay;overflow-x:hidden;box-sizing:border-box;top:calc(var(--headerheight) + var(--subheaderheight))}.fullscreenlist .portfolioList{width:100%;flex-direction:row;flex-wrap:wrap;flex-basis:auto;align-content:center;padding:24px;background-color:transparent}.fullscreenlist .portfolioList:after{display:none}.tagscontainer{transform:translateY(-1px);padding:0 12px;background:var(--background2);box-shadow:0 0 24px #000;border:1px solid hsla(0,0%,100%,.1);position:relative;top:calc(var(--headerheight));width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;max-width:400px;z-index:1;transform:width .2s ease}.tags{-ms-user-select:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;max-width:var(--maxwidth);margin:0 auto}.portfolio-list{position:relative}.portfolio-list-item{transition:all .3s cubic-bezier(.23,1,.32,1)}.portfolio-list-item.filteredout{display:none}.portfolio-list-enter-active{opacity:0;transform:translateX(-32px)}.portfolio-list-enter-to{opacity:1;transform:translateX(0)}.portfolio-list-leave-to{opacity:0;transform:translateX(-32px)}.portfolio-list-leave-active{position:absolute!important}.tag-list{position:relative;overflow:hidden}.tag-list-item{transition:all .5s cubic-bezier(.23,1,.32,1);display:inline-block}.tag-list-enter-active{opacity:0;transform:translateY(-6px)}.tag-list-enter-to{opacity:1;transform:translateY(0)}.tag-list-leave-to{opacity:0;transform:translateY(-6px)}.tag-list-leave-active{position:absolute!important}.slide-down-enter-active,.slide-down-leave-active,.slide-right-enter-active,.slide-right-leave-active{transition:all .5s cubic-bezier(.23,1,.32,1)}.slide-down-enter,.slide-down-leave-active,.slide-down-leave-to{transform:translateY(-32px);opacity:0}.slide-right-enter,.slide-right-leave-active,.slide-right-leave-to{transform:translateX(-320px);opacity:0}@media screen and (max-width:498px){.portfolioContainer.fullscreenlist .document{width:100%!important}}@media screen and (max-width:800px){.portfolioContainer:not(.fullscreenlist){flex-direction:column;top:72px}#portfolioContent{margin-top:32px}.portfolioContainer:not(.fullscreenlist) .portfolioList{width:100%;flex-direction:row;flex-basis:128px;overflow-x:overlay;top:32px;flex-wrap:nowrap}.fullscreenlist .portfolioList{justify-content:center}.portfolioList{padding:0 24px}.portfolioList .document{flex-shrink:0;width:320px}.portfolioList .document.selected{transform:translateY(12px)}}",""]),t.exports=e},300:function(t,e,o){"use strict";var n=o(285);o.n(n).a},301:function(t,e,o){(e=o(106)(!1)).push([t.i,".tag{display:inline-block;color:hsla(0,0%,100%,.5);-ms-user-select:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;cursor:pointer;padding:6px 12px;font-size:.7em;transition:background-color .2s,color .1s;white-space:normal}.tag-icon{width:14px;margin-right:4px}.tag-icon svg{max-width:14px;max-height:14px}.tag:hover{background-color:hsla(0,0%,100%,.05)}.tag.selected{color:#fff}.tags-selectedall .tag{color:#8b0000}",""]),t.exports=e},302:function(t,e,o){"use strict";var n=o(286);o.n(n).a},303:function(t,e,o){(e=o(106)(!1)).push([t.i,'.document{color:#fff;width:320px;background-color:#000;height:152px;text-decoration:none;box-sizing:border-box;position:relative;z-index:1;margin-right:12px;margin-top:12px;overflow:hidden;transition:all .3s}@media screen and (max-width:800px){.document{width:213px!important;height:101px!important}}.document:after{position:absolute;width:100%;height:100%;content:" ";box-sizing:border-box;border:1px solid hsla(0,0%,100%,.25);pointer-events:none;transition:border .3s}.document:hover:after{border:1px solid hsla(0,0%,100%,.4)}.document.selected:after,.document:active:after{border:1px solid hsla(0,0%,100%,.6)}.document.selected{transform:translateX(25px)}.document-bg{position:absolute;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;z-index:-1}.document.selected .document-bg{transform:translateX(1px)}.document-gradient{position:absolute;width:100%;height:100%;opacity:0}.document-bottom{position:absolute;margin-left:12px;bottom:8px;width:100%}.document:visited{color:hsla(0,0%,100%,.5)}.document-title{font-size:24px;font-weight:200;opacity:0;transform:translateY(32px);font-family:var(--font-secondary)}.document-tags,.document-year{opacity:0;font-size:.8em}.document-tags{margin-top:-4px}.document-tags svg{width:16px;height:16px;fill:var(--foregroundcolor);margin-right:6px;margin-top:6px}.document-year{margin-bottom:-4px;font-weight:600}.selectIndicator{position:absolute;fill:transparent;stroke:hsla(0,0%,100%,.25);stroke-width:2px;top:0;left:318px;width:32px;height:100%;display:none}.fullscreenlist .selectIndicator{display:none}.document .selectIndicator path{transition:.2s;d:path("M 1 0 L 1 44 L 1 76 L 1 108 L 1 152")}.document:hover .selectIndicator path{d:path("M 1 0 L 1 44 L 6 76 L 1 108 L 1 152")}.selectIndicator.selected path{d:path("M 1 0 L 1 44 L 12 76 L 1 108 L 1 152")!important}@media screen and (max-width:800px){.selectIndicator{position:absolute;fill:transparent;stroke:hsla(0,0%,100%,.25);stroke-width:2px;bottom:-2px;left:0;top:128px;width:320px;height:32px}.document .selectIndicator path{transition:.2s;d:path("M 0 1 L 80 1 L 160 1 L 240 1 L 320 1")}.document:hover .selectIndicator path{d:path("M 0 1 L 80 1 L 160 6 L 240 1 L 320 1")}.selectIndicator.selected path{d:path("M 0 1 L 80 1 L 160 32 L 240 1 L 320 1")!important}}',""]),t.exports=e},324:function(t,e,o){"use strict";o.r(e);var n={props:["id","name","icon","selected"],methods:{toggleselect:function(t){this.$emit("selectionchange",this.id,t),console.log(t)}}},r=(o(300),o(52)),component=Object(r.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:{selected:t.selected,tag:!0},on:{click:[function(e){return e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.toggleselect(!1)},function(e){return e.metaKey?t.toggleselect(!0):null},function(e){return e.ctrlKey?t.toggleselect(!0):null}]}},[t.icon?o("span",{staticClass:"tag-icon",domProps:{innerHTML:t._s(t.icon)}}):t._e(),t._v("\n    "+t._s(t.name)+"\n")])}),[],!1,null,null,null);e.default=component.exports},325:function(t,e,o){"use strict";o.r(e);var n=o(276),r={props:["doc","link"],methods:{hoverAnimation:function(t){var e=n.a.timeline({defaults:{ease:"power4"+t,duration:.3}});return e.fromTo(this.$refs.docyear,{y:12,opacity:0},{opacity:1,y:0},0),e.fromTo(this.$refs.doctitle,{y:24,opacity:0},{opacity:1,y:0},0),e.fromTo(this.$refs.doctags,{y:32,opacity:0},{opacity:1,y:0},0),e.fromTo(this.$refs.docoverlay,{opacity:0},{opacity:1},0),e},hoverShow:function(){this.hoverAnimation(".out").play()},hoverHide:function(){this.hoverAnimation(".in").reverse(0)}},mounted:function(){this.images}},l=(o(302),o(52)),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("nuxt-link",{class:{selected:t.doc.selected,document:!0,"fx-hovershadow":!0},attrs:{to:t.link}},[t.doc.images&&t.doc.images[0]?o("img",{staticClass:"document-bg",attrs:{alt:"",src:t.$staticAsset(t.$config.strapiBaseUri+t.doc.images[0].formats.medium.url)}}):t._e(),t._v(" "),o("div",{staticClass:"document-overlay",on:{touchstart:t.hoverShow,touchend:t.hoverHide,mouseenter:t.hoverShow,mouseleave:t.hoverHide}},[o("div",{ref:"docoverlay",staticClass:"document-gradient",style:"background: linear-gradient(transparent,"+t.doc.backgroundcolor+");"}),t._v(" "),o("div",{staticClass:"document-bottom"},[o("div",{ref:"docyear",staticClass:"document-year",style:"color:"+t.doc.foregroundcolor2},[t._v(t._s(t._f("formatDate")(t.doc.date)))]),t._v(" "),o("div",{ref:"doctitle",staticClass:"document-title",style:"color:"+t.doc.foregroundcolor},[t._v(t._s(t.doc.title))]),t._v(" "),o("div",{ref:"doctags",staticClass:"document-tags",style:"fill:"+t.doc.foregroundcolor2,attrs:{title:t.doc.tags.map((function(t){return t.name})).join(", ")}},t._l(t.doc.tags,(function(e){return o("span",{key:e.id,domProps:{innerHTML:t._s(e.icon)}})})),0)])]),t._v(" "),o("svg",{class:{selected:t.doc.selected,selectIndicator:!0}},[o("path",{attrs:{d:"M 0 0 L 0 38 L 0 76 L 0 114 L 0 152"}})])])}),[],!1,null,null,null);e.default=component.exports},332:function(t,e,o){"use strict";o.r(e);o(65),o(66),o(108),o(53),o(15),o(43),o(27),o(80),o(79),o(189),o(26);var n,r=o(3),l={data:function(){return{tags:[{name:"hello",id:0}],documents:[],selectedCategory:"",selectedDocument:"",selectedall:!0,queryString:"",tagContainerHeight:0}},watch:{"$route.path":function(path){this.selectedDocument=this.$route.params.document,this.selectedCategory=this.$route.params.slug;for(var i=0;i<this.documents.length;i++)this.documents[i].slug==this.selectedDocument?this.documents[i].selected=!0:this.documents[i].selected=!1},"$route.params.document":function(){},"$route.query":function(){this.filterDocuments()}},methods:{tagsAppear:function(){this.tagContainerHeight=this.$refs.tagContainer?this.$refs.tagContainer.clientHeight:0},tagsHideBefore:function(){},tagsHideAfter:function(){},toggleSelectedAll:function(){this.selectedall=!this.selectedall,this.selectedall&&(this.$router.replace({path:this.$route.path,query:null}),this.filterDocuments())},beforeDocumentLeave:function(t,e){t.style.top=t.offsetTop+"px",t.style.left=t.offsetLeft+"px"},filterDocuments:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var o,i,n,r,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=[],t.$route.query.s){for(o=t.$route.query.s.split(","),i=0;i<t.tags.length;i++)t.tags[i].selected=o.includes(t.tags[i].id.toString());t.queryString="?s="+t.$route.query.s}else t.queryString="";for(n=0;n<t.documents.length;n++){if(r=!0,o&&o.length&&o.length>0)for(l=0;l<t.documents[n].tags.length;l++)console.log("id="+t.documents[n].tags[l].id.toString()),console.log(o),o.includes(t.documents[n].tags[l].id.toString())&&(r=!1);else r=!1;t.documents[n].hidden=r}case 3:case"end":return e.stop()}}),e)})))()},tagselectionChange:(n=Object(r.a)(regeneratorRuntime.mark((function t(e,o){var n,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=[],r=[],i=0;i<this.tags.length;i++)this.selectedall||!o?this.tags[i].id==e?this.tags[i].selected=!0:this.tags[i].selected=!1:this.tags[i].id==e&&(this.tags[i].selected=!this.tags[i].selected),this.tags[i].selected&&(n.push('"'.concat(this.tags[i].id,'"')),r.push(this.tags[i].id));return r.length!=this.tags.length&&r.length>0?(this.$router.replace({path:this.$route.path,query:{s:r.join(",")}}),this.selectedall&&(this.selectedall=!1)):(this.$router.replace({path:this.$route.path,query:null}),this.selectedall=!0),n.length||n.push("null"),n.length==this.tags.length&&(this.selectedall=!0),t.next=8,this.filterDocuments();case 8:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)}),resizeTagContainer:function(t){t.width;var e=t.height;this.tagContainerHeight=e}},mounted:function(){this.tagContainerHeight=this.$refs.tagContainer?this.$refs.tagContainer.clientHeight:0,this.filterDocuments()},head:function(){var title="";return this.selectedCategory&&(title=this.$parent.$data.selectedCategoryName),title||(title="All work"),{title:"".concat(title," - Piers Deseilligny"),meta:[{hid:"og-title",property:"og:title",content:title},{hid:"og-url",property:"og:url",content:"https://piersdeseilligny.com/work/"+(this.selectedCategory?this.selectedCategory:"")},{hid:"og-description",property:"og:description",content:""}]}},asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var o,n,r,l,c,d,h,f,m,data,v,i,x,y,w,C;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=t.params.slug,n=t.params.document,r="",l="",c=[],t.query.s&&(r="?s="+t.query.s,c=t.query.s.split(","),d=[],c.length&&(d=t.query.s.split(",").map((function(t){return'"'+t+'"'}))),l=",tags:["+d.join(",")+"]"),h="",f="",o&&(h='(where:{categories:{slug:"'.concat(o,'"}').concat(l,"})"),f='(where:{categories:{slug:"'.concat(o,'"}})')),m="\n          query{\n            tags".concat(f,"{\n              name,\n              id,\n              icon\n            },\n            documents").concat(h,"{\n              title,\n              categories{\n                slug\n              },\n              category{\n                slug\n              },\n              date,\n              id,\n              slug,\n              backgroundcolor,\n              foregroundcolor,\n              foregroundcolor2,\n              tags{\n                name,\n                id,\n                icon\n              },\n              images{\n                formats\n              }\n            }\n          }\n          "),console.log(m),e.next=14,t.$staticAPI({query:m});case 14:if(data=e.sent,v=[],o)for(i=0;i<data.tags.length;i++)x=data.tags[i],null!=c&&c.length?x.selected=c.includes(x.id):x.selected=!1,v.push(x);for(y=[],w=0;w<data.documents.length;w++)(C=data.documents[w]).slug==n?C.selected=!0:C.selected=!1,y.push(C);return e.abrupt("return",{tags:v,documents:y,selectedCategory:o,selectedDocument:n,queryString:r,selectedall:null==c||!c.length});case 22:return e.prev=22,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 25:case"end":return e.stop()}}),e,null,[[0,22]])})))()}},c=(o(298),o(52)),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"portfolioVue"},[o("transition",{attrs:{name:"slide-down",appear:""},on:{enter:t.tagsAppear,"before-leave":t.tagsHideBefore,"after-leave":t.tagsHideAfter}},[t.tags&&t.tags.length?o("div",{directives:[{name:"resize",rawName:"v-resize",value:t.resizeTagContainer,expression:"resizeTagContainer"}],ref:"tagContainer",staticClass:"tagscontainer"},[o("transition-group",{class:"tags",staticStyle:{"z-index":"1"},attrs:{name:"tag-list",tag:"div"},on:{"before-leave":t.beforeDocumentLeave}},[o("div",{key:"all",staticClass:"tag-list-item"},[o("Tag",{key:"all",attrs:{name:"All",selected:t.selectedall,id:"all"},on:{selectionchange:t.toggleSelectedAll}})],1),t._v(" "),t._l(t.tags,(function(e){return o("div",{key:e.id,staticClass:"tag-list-item"},[o("Tag",{key:e.id,attrs:{name:e.name,icon:e.icon,selected:!t.selectedall&&e.selected,id:e.id},on:{selectionchange:t.tagselectionChange}})],1)}))],2)],1):t._e()]),t._v(" "),o("div",{class:{portfolioContainer:!0,fullscreenlist:null==t.$route.params.document}},[o("transition-group",{staticClass:"portfolioList",style:"margin-top:"+t.tagContainerHeight+"px",attrs:{name:"portfolio-list",tag:"div"},on:{"before-leave":t.beforeDocumentLeave}},t._l(t.documents,(function(e){return o("Document",{key:e.id,class:{"portfolio-list-item":!0,filteredout:e.hidden},attrs:{link:"/work/"+e.category.slug+"/"+e.slug+t.queryString,doc:e}})})),1),t._v(" "),o("div",{attrs:{id:"portfolioContent"}},[o("nuxt",{attrs:{nuxtChildKey:t.$route.params.document}})],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Tag:o(324).default,Document:o(325).default})}}]);